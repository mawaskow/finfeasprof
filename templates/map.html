{% extends "base.html" %}

{% block title %}Map{% endblock %}

{% block navbar %}
<nav class="navbar bg-body-tertiary">
    <div class="container-fluid justify-content-start d-inline-block">
        <a class="navbar-brand d-inline-block" href="{{ url_for('homepage') }}">
            <img src="{{url_for('static', filename='multipeat_logo.png')}}" alt="Logo" width="50" height="40" class="align-middle" style="padding-right: 5px;">
            <img src="{{url_for('static', filename='ASPECT_logo.png')}}" alt="Logo" width="75" height="40" class="align-middle" style="padding-right: 10px;">
        </a>
        <div class="d-inline-block align-middle">
            <h3 class="d-inline-block" style="margin-right: 2px;">Peatland</h3> <h3 style="color: #9fbbcf; font-weight: bold;" class="d-inline-block">TOOLKIT</h3>
            <p class="d-block" style="font-size: small; margin-top: -7px;">Advancing capabilities to measure and regenerate wetlands</p>
        </div>
        <div class="d-inline-flex align-middle justify-content-end" style="padding-left: 15px;">
            <div class="d-inline-flex input-group" role="search">
                <span class="input-group-text d-inline-block search-svg-block" style="height:30px; width:30px; padding:0px">
                    <svg height="18" width="18" class="align-middle">
                        <image style="height:18px; width:18px" xlink:href="{{ url_for('static', filename='search.svg') }}"></image>
                    </svg>
                </span>
                <input class="form-control d-inline-block search-entry" style="height:30px;" type="search" placeholder="KEYWORD SEARCH" id="header-search" aria-label="Search">
            </div>
            <a style="padding-left: 10px;" class="d-inline-flex align-middle justify-content-end" href="{{url_for('login')}}">Login</a>
            <div class="d-inline-flex align-middle" style="border-right: 1px solid #9fbbcf; height: 30px; padding: 0px 5px;"></div>
            <p class="d-inline-flex align-middle" style="padding-left: 10px;">Language</p>
        </div>
    </div>
    <div style="background-color: #9fbbcf; height: 25px; width: 100%;" class="position-absolute bottom-0"></div>
    <div style="padding-top: 10px;" class="position-relative">
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link on-page" href="{{ url_for('map_page') }}">SITES & POLICIES</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ url_for('toolbox') }}">USE THE TOOLS</a>
            </li>
        </ul>
    </div>
</nav>
{% endblock %}

{% block content %}
<nav class="navbar navbar-expand-sm navbar-dark bg-dark">
    <div class="container-fluid">
      <p class="navbar-brand">Peatland Map</p>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-lg-0">
            <li class="nav-item active">
                <a class="nav-link" href="#"><Layers class="badge rounded-pill text-layer-pill" id="layers">Layers</span><span class="sr-only"></span></a>
            </li>
        </ul>
        <form class="d-flex" role="search">
          <input class="form-control me-2" type="search" placeholder="Search" id="bogInput" aria-label="Search">
          <button class="btn btn-outline-success" type="button" id="search">Search</button>
        </form>
      </div>
    </div>
</nav>

<div class="container" style="padding:0px; margin:0px;">
    <div class="row justify-content-start">
        <div class="d-block col-4 map-nav" style="padding:0px;max-width: 200px;">
            <p>Info and Dropdowns</p>
        </div>
        <div class="col-8">
            <div id="map" style="max-height: 50%; display: block;"></div>
            <div class="pol-div">
                <p>Policy Info instead of offcanvas</p>
            </div>
        </div>
    </div>
</div>

<!-- Draggable DIV -->
<div id="draggable">
    <div id="draggable-header"><div id="draggable-title">Title</div><a href="#" id="draggable-closer" class="ol-popup-closer"></a></div>
    <div id="draggable-content">
        <p>Move</p>
        <p>this</p>
        <p>DIV</p>
    </div>

</div>
<!--Popup div-->
<div id="popup" class="ol-popup">
    <a href="#" id="popup-closer" class="ol-popup-closer"></a>
    <div id="popup-content">
        <div id="bog-info"></div>
        <div id="PS-info"></div>
        <div id="D1-info"></div>
        <div id="D2-info"></div>
        <div id="D3-info"></div>
        <div id="no-features"></div>
        <div id="offc-trigger">
            <p style="margin-top: 8px;"> </p>
            <button id="offc-btn" class="btn btn-success" type="button" data-bs-toggle="offcanvas" data-bs-target="#offc-div" aria-controls="offcanvasScrolling">View Policies</button>
        </div>
    </div>
</div>

<!--offcanvas div-->
<div id="offc-div" class="offcanvas offcanvas-end" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" aria-labelledby="offc-lab">
  <div class="offcanvas-header">
    <h5 id="offc-lab" class="offcanvas-title">Policy Information</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <div id="local-pol"></div>
    <div id="reg-pol"></div>
    <div id="nat-pol"></div>
    <div id="eu-pol"></div>
    <div id="glob-pol"></div>
    <div id="offc-no-features"></div>
  </div>
</div>

<script type="module" src="{{url_for('static', filename='scripts/Map.js')}}" ></script>
<script type="module" src="{{url_for('static', filename='scripts/customFunctions.js')}}" ></script>
<script type="module" src="{{url_for('static', filename='scripts/Identify.js')}}" ></script>
<script type="module" src="{{url_for('static', filename='scripts/Layers.js')}}" ></script>
<script type="module" src="{{url_for('static', filename='scripts/Search.js')}}" ></script>
<script type="module" src="{{url_for('static', filename='scripts/Offcanv.js')}}" ></script>
{% endblock %}