{% extends "base.html" %}

{% block title %}Map{% endblock %}

{% block navbar %}
<nav class="navbar bg-body-tertiary">
    <div class="container-fluid justify-content-start d-inline-block">
        <a class="navbar-brand d-inline-block" href="{{ url_for('homepage') }}">
            <img src="{{url_for('static', filename='multipeat_logo.png')}}" alt="Logo" width="50" height="40" class="align-middle" style="padding-right: 5px;">
            <img src="{{url_for('static', filename='ASPECT_logo.png')}}" alt="Logo" width="75" height="40" class="align-middle" style="padding-right: 10px;">
        </a>
        <div class="d-inline-block align-middle">
            <h3 class="d-inline-block" style="margin-right: 2px;">Peatland</h3> <h3 style="color: #9fbbcf; font-weight: bold;" class="d-inline-block">TOOLKIT</h3>
            <p class="d-block" style="font-size: small; margin-top: -7px;">Advancing capabilities to measure and regenerate wetlands</p>
        </div>
        <div class="d-inline-flex align-middle justify-content-end" style="padding-left: 15px;">
            <div class="d-inline-flex input-group" role="search">
                <span class="input-group-text d-inline-block search-svg-block" style="height:30px; width:30px; padding:0px">
                    <svg height="18" width="18" class="align-middle">
                        <image style="height:18px; width:18px" xlink:href="{{ url_for('static', filename='search.svg') }}"></image>
                    </svg>
                </span>
                <input class="form-control d-inline-block search-entry" style="height:30px;" type="search" placeholder="KEYWORD SEARCH" id="header-search" aria-label="Search">
            </div>
            <a style="padding-left: 10px;" class="d-inline-flex align-middle justify-content-end" href="{{url_for('login')}}">Login</a>
            <div class="d-inline-flex align-middle" style="border-right: 1px solid #9fbbcf; height: 30px; padding: 0px 5px;"></div>
            <p class="d-inline-flex align-middle" style="padding-left: 10px;">Language</p>
        </div>
    </div>
    <div style="background-color: #9fbbcf; height: 25px; width: 100%;" class="position-absolute bottom-0"></div>
    <div style="padding-top: 10px;" class="position-relative">
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link on-page" href="{{ url_for('map_page') }}">SITES & POLICIES</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ url_for('toolbox') }}">USE THE TOOLS</a>
            </li>
        </ul>
    </div>
</nav>
{% endblock %}

{% block content %}
<div class="container-fluid" style="padding:0px; margin:0px;height:100vh;">
    <div class="row justify-content-start" style="margin:0px;">
        <div class="d-block col-3 map-nav" style="padding-left:10px;max-width:200px;height:100vh;">
            <div id="sites-div"></div>
            <div id="layers-tog">
                <p style="font-weight: bold;">Layers</p>
            </div>
            <div id="layers-div"></div>
            <div id="pol-filter-tog">
                <p style="font-weight: bold;">Policies</p>
            </div>
            <div id="pol-filter-div"></div>
            <button id="map-pol-size-btn" class="btn btn-success btn-sm justify-self-center" style="font-weight: 500; max-width: 175px; margin-top: 10px;">Expand Map View</button>
        </div>
        <div class="col" style="padding:0px; max-width: 100%; height:100vh;">
            <div id="map" class="row" style="max-height: 50%; max-width: 100%; display:block; position:static; margin:0px;"></div>
            <div id="pol-div" class="row map-pol-div" style="display:block; max-width: 100%; margin:0px; height:100vh;">
                <p style="font-weight: bold;">Policy Info</p>
                <p>Click on the map to view relevant policies.</p>
                <div id="local-pol"></div>
                <div id="reg-pol"></div>
                <div id="nat-pol"></div>
                <div id="eu-pol"></div>
                <div id="glob-pol"></div>
                <div id="offc-no-features"></div>
            </div>
        </div>
    </div>
</div>

<!--Popup div-->
<div id="popup" class="ol-popup">
    <a href="#" id="popup-closer" class="ol-popup-closer"></a>
    <div id="popup-content">
        <div id="bog-info"></div>
        <div id="PS-info"></div>
        <div id="D1-info"></div>
        <div id="D2-info"></div>
        <div id="D3-info"></div>
        <div id="PlAlkFen-info"></div>
        <div id="no-features"></div>
    </div>
</div>

<script type="module" src="{{url_for('static', filename='scripts/Map.js')}}" ></script>
<script type="module" src="{{url_for('static', filename='scripts/customFunctions.js')}}" ></script>
<script type="module" src="{{url_for('static', filename='scripts/Identify.js')}}" ></script>
<script type="module" src="{{url_for('static', filename='scripts/Layers.js')}}" ></script>
<script type="module" src="{{url_for('static', filename='scripts/Search.js')}}" ></script>
<script type="module" src="{{url_for('static', filename='scripts/Offcanv.js')}}" ></script>
{% endblock %}