{% extends "base.html" %}

{% block title %}FFP Tool{% endblock %}

{% block content %}

<!DOCTYPE html>
<html lang="en">
<head>
    
</head>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Policy Mapping</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #969696;
            color: #333;
        }

        header {
            display: flex;
            align-items: center;
            padding: 10px 20px;
            background-color: white;
            color: #fff;
        }
       
        .logo img {
            height: 50px;
        }

        .title {
            margin-left: 20px;
        }

        .title h1 {
            margin: 0;
            font-size: 24px;
        }

        .title p {
            margin: 0;
            font-size: 14px;
        }

        nav {
            background-color: #d3dee9;
            padding: 10px 20px;
            list-style-type: none;
        }

        nav ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }

        nav ul li {
            margin-right: 10px;
            position: relative;
            list-style-type: none;
        }

        nav ul li a {
            text-decoration: none;
            list-style-type: none;
            padding: 10px 20px;
            border-radius: 5px;
            color: #000;
            font-size: 14px;
            position: relative;
            display: inline-block;
        }

        nav ul li a i {
            margin-right: 5px; /* Space between icon and text */
            list-style-type: none;
            
        }

        nav ul li a img {
            height: 24px;
            width: 24px;
        }

        nav ul li a.biodiversity {
            background-color: #c1d992;
            color: #000000;
            list-style-type: none;
        }

        nav ul li a.climate-action {
            background-color: #e59391;
            color: #000000;
            list-style-type: none;
        }

        nav ul li a.energy {
            background-color: #f9f19e;
            color: #000000;
            list-style-type: none;
        }

        nav ul li a.community-culture {
            background-color: #f3c370;
            color: #000000;
            list-style-type: none;
        }

        nav ul li a.environment-quality {
            background-color: #82cac9;
            color: #000000;
            list-style-type: none;
        }

        nav ul li a.land-use-agriculture {
            background-color: brown;
            color: #000000;
            list-style-type: none;
        }

        nav ul li a.economy {
            background-color: #c9b0ce;
            color: #000000;
            list-style-type: none;
        }

        nav ul li a.AppliedScience {
            background-color: #9fbbcf;
            color: #000000;
            list-style-type: none;
        }

        .biodiversity {
            background-color: #c1d992;
            color: #000000;
            list-style-type: none;
        }

        .climate-action {
            background-color: #e59391;
            color: #000000;
            list-style-type: none;
        }

        .energy {
            background-color: #f9f19e;
            color: #000000;
            list-style-type: none;
        }

        .community-culture {
            background-color: #f3c370;
            color: #000000;
            list-style-type: none;
        }

        .environment-quality {
            background-color: #82cac9;
            color: #000000;
            list-style-type: none;
        }

        .land-use-agriculture {
            background-color: #c1d992;
            color: #000000;
            list-style-type: none;
        }

        .economy {
            background-color: #c9b0ce;
            color: #000000;
            list-style-type: none;
        }

        .AppliedScience {
            background-color: #9fbbcf;
            color: #000000;
            list-style-type: none;
        }

        /* Main content area */
        main {
            padding: 20px;
            background-color: #FFFFFF;
            list-style-type: none;
            list-style-type: none;
        }

        .policy-mapping {
            background-color: #f5f5f5;
            padding: 20px;
            border-radius: 5px;
            list-style-type: none;
        }

        .policy-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #f5f5f5;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            list-style-type: none;
        }

        .policy-info {
            flex-grow: 1;
            margin-left: 10px;
            background-color: #f5f5f5;
            
        }

        .policy-title {
            margin: 0;
            background-color: #f5f5f5;
            color:mediumseagreen;
            font-weight: bold;
            text-decoration: none;
            
        }

        .policy-year {
            margin: 5px 0;
            font-weight: bold;
            background-color: #f5f5f5;
        }

        .policy-detail {
            margin: 0;
            font-weight: bold;
            background-color: #f5f5f5;
        }

	.read-more-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            background-color: #5d93ac;
            color: white;
            font-size: 14px;
            transition: background-color 0.3s;
            text-align: center;
            display: inline-block; /* Ensures the buttons are inline elements */
            min-width: 100px; /* Optional: Ensures a minimum width for buttons */
            box-sizing: border-box; /* Ensures padding is included in the width and height */
            height: 40px; /* Ensures buttons have the same height */
            line-height: 20px; 
        }
        .download-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            background-color: #5d93ac;
            color: white;
            font-size: 14px;
            transition: background-color 0.3s;
            text-align: center;
            display: inline-block; /* Ensures the buttons are inline elements */
            min-width: 100px; /* Optional: Ensures a minimum width for buttons */
            box-sizing: border-box; /* Ensures padding is included in the width and height */
            height: 40px; /* Ensures buttons have the same height */
            line-height: 20px; 

        }
        .countries-list ul li:focus,
        .countries-list ul li:active {
        outline: none; /* Prevents any focus or active outline from appearing */
          }
        .show-less-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            background-color: #5d93ac;
            color: white;
            font-size: 14px;
            transition: background-color 0.3s;
        }

        .badge-custom {
            background-color: #007BFF;
            color: #000;
        }

        .full-policy-detail {
            display: none;
            background-color: #f5f5f5;
        }

        .show-less-btn {
            display: none;
        }

        /* Footer styles */
        footer {
            background-color: #f3f3f3;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .footer-links a {
            margin-right: 20px;
            text-decoration: none;
            color: #007bff;
            font-size: 14px;
        }

        /* Tooltip styles */
        nav ul li a::after {
            content: attr(data-tooltip); /* Display tooltip text */
            position: absolute;
            bottom: 100%; /* Position above the link */
            left: 50%; /* Center horizontally */
            transform: translateX(-50%); /* Adjust for center alignment */
            background-color: #333; /* Tooltip background color */
            color: #fff; /* Tooltip text color */
            padding: 5px; /* Padding around text */
            border-radius: 5px; /* Rounded corners */
            white-space: nowrap; /* Prevent text wrapping */
            opacity: 0; /* Initially invisible */
            pointer-events: none; /* Allow click through */
            transition: opacity 0.3s; /* Smooth opacity transition */
            font-size: 12px; /* Font size of tooltip text */
            list-style-type: none;
        }

        /* nav ul li a:hover::after {
            opacity: 1; /* Show tooltip on hover */
            list-style-type: none;
            
        } */ /* Comments to avoid black /*

        /* Dropdown menu styles */
        .countries-list-container {
            position: relative; /* Container for the dropdown */
           /* background-color: #edf7ed; /* Dropdown background color */ */
           list-style-type: none;
        }

        .countries-list {
            position: absolute;
            list-style-type: none;
            top: calc(100% + 10px);
            left: 50%;
            transform: translateX(-50%);
            background-color: #edf7ed; /* Light background color */
            border: 1px solid #ccc;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            padding: 10px;
            z-index: 1000;
            min-width: 200px;
            max-height: 300px;
            overflow-y: auto;
            display: none; /* Initially hidden */
        }

        .countries-list.show {
            list-style-type: none;
            outline: none;
            display: block; /* Show dropdown when .show class is added */
        }

        .countries-list ul {
            list-style-type: none;
            cursor: pointer;
            padding: 0;
            margin: 0;
            background-color: #edf7ed; /* Match the dropdown background */
        }

        .countries-list ul li {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            padding: 10px;
            list-style-type: none;
            cursor: pointer;
            transition: background-color 0.3s;
            background-color: #edf7ed; /* Match the dropdown background */
            border-radius: 5px;
        }

        .countries-list ul li:hover {
            list-style-type: none;
        }

        .countries-list ul li a {
            text-decoration: none;
            list-style-type: none;
          
            display: block;
        }
    </style>
</head>
<body>
    <header>
        
    </header>
    <nav>
        <ul>
            <li><a href="{{ url_for('eu_local') }}" class="home" data-tooltip="Local Policies"><img src="{{ url_for('static', filename='local-gr.png') }}" alt="Home Icon"></a></li>
            <li><a href="{{ url_for('eu_national') }}" class="layout" data-tooltip="National Policies "><img src="{{ url_for('static', filename='regional-gr.png') }}" alt="Layout Icon"></a></li>
            <li class="countries-list-container">
                <a href="#" class="flag" id="countries-tooltip" data-tooltip="All Policies"><img src="{{ url_for('static', filename='Artboard.png') }}" alt="Flag Icon"></a>
                <div id="countries-list" class="countries-list">
                    <ul>
                        <li><a href="#" data-country="Ireland">Ireland</a></li>
                        <li><a href="#" data-country="Eesti" style="color: black;">Estonia</a></li>
                        <li><a href="#" data-country="Nederland" style="color: black;">Netherlands</a></li>
                        <li><a href="#" data-country="Bulgaria" style="color: black;">Bulgaria</a></li>
                        <li><a href="#" data-country="Italia" style="color: black;">Italy</a></li>
                        <li><a href="#" data-country="United Kingdom" style="color: black;">United Kingdom</a></li>
                    </ul>
                </div>
            </li>
            <li><a href="{{ url_for('eu_policy') }}" class="eu" data-tooltip="European Union Policies"><img src="{{ url_for('static', filename='eu-gr.png') }}" alt="EU Icon"></a></li>
            <li><a href="{{ url_for('eu_global') }}" class="world" data-tooltip="Global Policies"><img src="{{ url_for('static', filename='global-gr.png') }}" alt="World Icon"></a></li>
        </ul>
    </nav>
    
    <main>
        <nav>
            <ul>
                <li><a href="#" class="biodiversity"><i class="fas fa-leaf"></i> Biodiversity</a></li>
                <li><a href="#" class="climate-action"><i class="fas fa-temperature-high"></i> Climate Action</a></li>
                <li><a href="#" class="energy"><i class="fas fa-bolt"></i> Energy</a></li>
                <li><a href="#" class="community-culture"><i class="fas fa-landmark"></i> Community / Culture</a></li>
                <li><a href="#" class="environment-quality"><i class="fas fa-water"></i> Environmental Quality</a></li>
                <li><a href="#" class="land-use-agriculture"><i class="fas fa-tractor"></i> Land Use / Agriculture</a></li>
                <li><a href="#" class="economy"><i class="fas fa-chart-line"></i> Economy</a></li>
                <li><a href="#" class="AppliedScience"><i class="fas fa-flask"></i> Research and Applied Sciences</a></li>
            </ul>
        </nav>
        <section class="policy-mapping">
            {% if heading %}
            <h3 style="text-align: center;margin: 0 auto;">{{ heading }} Policy Visualization</h3>
            {% else %}
            <h3 style="text-align: center;margin: 0 auto;">{{ data[0][4] }} Policy Visualization</h3>
            {% endif %}
            {% for policy in data %}
            <div class="policy-item">
                <div class="policy-info">
                   <h3 class="policy-title">{{ policy[0] }} </h3> <!-- Name -->
                    <p class="policy-year">Year: {{ policy[1] }}</p>  <!-- Level -->
                    <p class="policy-detail">{{ policy[3] }}</p>
                    <div class="full-policy-detail"><p>{{ policy[2] }}</p></div>
                    <button class="read-more-btn">Read More</button>
                    <button class="show-less-btn">Show Less</button>
                    <a href="{{ policy[5] }}" class="download-btn" style=>Link</a>
                </div>
            </div>
            {% endfor %}
        </section>
    </main>
    <script src="{{ url_for('static', filename='scripts/country_script.js') }}"></script>    
</body>
</html>


{% endblock %}
